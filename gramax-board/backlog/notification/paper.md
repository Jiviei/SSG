---
order: 3
title: Изменения в теле статьи
---

:::hotfixes 

Пропозал -- [https://app.gram.ax/docreader-team/roadmap/inbox/diff/highlight-changes. ](https://app.gram.ax/docreader-team/roadmap/inbox/diff/highlight-changes)

:::

Я, работая в каталоге, хочу знать, что конкретно в статьях поменялось после синхронизации.

Логика подсветки должна быть не только в теле статьи, но и в истории изменений и в окне публикации.

1. Изменение слов:

   1. Если поменялось больше одной буквы в слове, то считаем что поменялось всё слово.

   2. Если в слове поменялась одна буква, то зачёркиваем старую букву и показываем рядом новую. Считаем это минорным изменением.

2. Изменение предложений:

   1. Если поменялось меньше 20% слов в предложении, то зачёркиваем старые слова и показываем рядом новые.

   2. Если поменялось больше 20% слов в предложении, то зачёркиваем всё предложение и пишем его заново.

   3. Если из предложения удалён целостный кусок в начале или в конце предложения, то зачёркиваем этот кусок, даже если он больше 20%.

   4. Если удалено всё предложение, то зачёркиваем его.

3. Комментарии:

   1. Т.к. у нас комментарии на абзац, то отображаем их как обычно.

   2. Абзац был удалён, а в нём есть не зарезолвленные комментарии, то стоит визуально отобразить это. Например, жёлтой точкой над символом удаления.

   3. При наведении на удалённый абзац мы видим удалённый текст в тултипе и комментарий справа или под текстом.

4. Удаление. Можно не зачёркивать слова или предложения, чтобы не перегружать юзера, а отображать красный крестик или кружок на месте удаления. При наведении курсора будет отображаться удалённый кусок в тултипе.

### Тултип изменений

-  При наведении на добавленные, изменённые, удалённые куски текста, в тултипе рядом с курсором отображаем кем было сделано изменение и когда.

-  В тултипе есть возможность отменить изменение.

-  Вернуть отменённое можно только через cmd + z.

### Режим отображения минорных изменений

Режим отображения минорных изменений показывает изменения, которые не влияют на смысл и убраны из режима по умолчанию, чтобы не сбивать ревьюера. По умолчанию отключен.

:::tip 

Можно подумать как обойтись без специального режима. Например, подсвечивать места минорных изменений цветом, а при наведении курсора показывать в тултипе изменение.

:::

-  Изменение регистра букв.

-  Изменение знаков препинания и пробелов.

-  Изменение порядка нумерации в списке.

-  Изменение типа маркированного списка.

-  Изменение форматирования.

### Стили

-  Зачёркивание должно быть очень легковесным, т.к. читателю необходимо иногда перечитывать старую версию и новую.