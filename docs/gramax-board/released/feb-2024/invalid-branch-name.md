---
order: 4
title: "[KV]\_Подсказки для недопустимых имен ветки"
---

Сейчас, если пользователь создает ветку со странным названием, у него может вылезти ошибка. Нужно сделать механизм, как в урле статьи.

Критерии:

-  \[x\] Название ветки валидируется по правилам ниже. Ошибки валидации обрабатываются стандартным образом.

-  \[x\] Правила проверки для формы и сообщения об ошибке:

   1. Имя ветки не может содержать специальные символы, такие как `пробел`, `*`, `?`, `[]`, `~`, `:`, `"`, `<`, `>`, `|`.

   2. Имя ветки не может начинаться с точки или содержать последовательность двойных точек (`..`).

   3. Имя ветки не может заканчиваться на `/` или `.`, а также последовательности `//`.

   4. Имя ветки не может совпадать с зарезервированными именами `HEAD`.

   5. Ветка с таким названием уже существует. (показывать в случае с точным совпадением и в случае, если в названиях разный регистр - например, name и NAME)

   6. Имя ветки не может содержать префикс, как у существующей ветки. Например, если существует ветка `name`, ветку с именем `name/test` создать не получится.

   7. Имя ветки не может заканчиваться на `.lock`.

---

Исходная заявка

Гит не позволяет создавать ветку `docs/что-то`, если ветка `docs` уже существует. На это сейчас выдается непонятная ошибка, надо сделать так чтобы ошибка была понятно.

При создании ветки с «/», вылетает ошибка из <https://support.ics-it.ru/issue/GX-2042>

---

Тестирование:

1. \[x\]  Попыталась ввести неправильное имя, закрыла окно, заново открыла -- подсказка так и висит.

   ![](./invalid-branch-name_0.png)

2. \[x\] В проверку не все символы добавлены: `^` и `\`

![](./invalid-branch-name_1.png)