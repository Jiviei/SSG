---
order: 3
title: "[SP] Синхронизация инстансов докпортала"
---

В X5 хотят развернуть докпортал в кубере, то есть там будет несколько инстансов докпортала, которые смотрят по одному и тому же ROOT_PATH. Проблема заключается в том что мы сейчас не можем запустить два и более инстансов докпортала, которые смотрели бы на одну и ту же папку (ROOT_PATH). Потому что докпортал после запуска не умеет синхронизировать свой кэш с файлами в ROOT_PATH. Хотелось бы чтобы это было возможно.

#### Возможное решение

Для синхронизации можно использовать уже готовый механизм файл вотчера (`ChokidarWatcher`), но он начинает криво следить за папками, которые были удалены и созданы заново, считая при каждом изменении, что они переименованы (не думаю, что это будет сильно критично для док портала). Синхронизация будет происходить при каждом изменении файла с задержкой в 1 секунду и пользователю для получения изменений нужно будет перезагружать страницу.

#### Критерии приемки

-  Если запустить несколько инстансов докпортала, в которых указан один и тот же ROOT_PATH, то во всех них будет актуальные данные.